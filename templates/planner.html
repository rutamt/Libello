{% set is_logged_in = is_logged_in %}
{% extends "head_test.html" %}
{% block content %}

<link rel="stylesheet" href="{{ url_for('static', filename='css/planner2.css')}}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/modal.css')}}">

<script src="{{ url_for('static', filename='js/modal.js')}}" defer></script>
<script src="{{ url_for('static', filename='js/widgets.js')}}" type="module" defer></script>


<main>

    <div id="sideBar">
        <h2 class="header-text">Classes</h2>
        <div id="classList">

            {% for classes in assignments: %}

            <a class="class__selector body-text" href="#{{loop.index}}">
                <span class="class_label">Class</span>
                <span class="class_number">{{loop.index}}</span>
            </a>

            {% endfor %}


        </div>
    </div>


    {% if not creds %}

    <div class="modal" id="modal">
        <div class="modal__content modal__tutorial">

            <h2 class="header-text">Warning</h2>
            <h1>You don't seem to have an api key or secret added to your account.</h1>
            <a href="{{ url_for('register') }}"><button class="btn__setup header-text">Add key and
                    secret</button></a>

        </div>
    </div>

    {% elif not classes %}

    <div class="modal" id="modal">
        <div class="modal__content modal__tutorial">

            <h2 class="header-text">Warning</h2>
            <h1>You don't seem to have any classes added to your account. Please add classes to your planner.</h1>
            <a href="{{ url_for('setup') }}"><button class="btn__setup header-text">Setup Classes</button></a>

        </div>
    </div>

    {% else %}




    <div id="classContent">
        <h1 class="header-text">Hello {{name}}, it is {{time}}. </h1>
        <h5 class="body-text">Click one of the classes on the side to view them!</h5>

        <span>

        </span>
        <span>

        </span>
        <span>

        </span>

        {% for classes in assignments: %}

        <div class="class-wrapper" id="{{loop.index}}">
            <h3 class="class__title header-text">Class
                {{loop.index}}</h3>

            <div class="assignment__grid">

                {% for title in classes %}

                <div class="assignment">

                    <h4 class="header-text">{{title['title']}}</h4>
                    <h6 class="body-text">
                        {% if title['due'] == "" %}
                        <h3 class='boxed' style="color:red">No due date</h3>
                        {% else %}
                        <h5 class='boxed' style="color:green">Due: {{title['due']}}</h5>
                        {% endif %}
                        <h5>
                            <a href="{{title['web_url']}}" class='boxed' style="color:#023E8A">Link</a>
                        </h5>
                        {% if title['completed'] == 1 %}
                        <h5 class='boxed' style="color:green">Completed</h5>
                        {% elif title['completed'] == 0 %}
                        <h5 class='boxed' style="color:red">Incomplete</h5>
                        {% endif %}
                    </h6>

                    <!-- Assignment -->
                </div>
                {% endfor %}
                <!-- Assignment Grid -->
            </div>
            <!-- Class Wrapper -->
        </div>

        {% endfor %}
        {% endif %}



</main>

{% endblock %}